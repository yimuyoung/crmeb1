(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-users-scan_login-index"],{"0de7":function(n,a,t){var e=t("dabe");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);var i=t("4f06").default;i("7f3a6498",e,!0,{sourceMap:!1,shadowMode:!1})},"1d2b":function(n,a,t){"use strict";t.r(a);var e=t("486b"),i=t("8d06");for(var o in i)"default"!==o&&function(n){t.d(a,n,(function(){return i[n]}))}(o);t("aee7");var c,s=t("f0c5"),d=Object(s["a"])(i["default"],e["b"],e["c"],!1,null,"522a6d7a",null,!1,e["a"],c);a["default"]=d.exports},"486b":function(n,a,t){"use strict";var e;t.d(a,"b",(function(){return i})),t.d(a,"c",(function(){return o})),t.d(a,"a",(function(){return e}));var i=function(){var n=this,a=n.$createElement,t=n._self._c||a;return t("v-uni-view",{staticClass:"scan_login"},[t("v-uni-view",{staticClass:"head"},[t("v-uni-image",{attrs:{src:n.userInfo.avatar,mode:""}}),t("v-uni-view",{staticClass:"big"},[n._v(n._s(n.userInfo.nickname))]),t("v-uni-view",{staticClass:"small"},[n._v(n._s(n.$t("点击授权登录您的客服工作台")))]),t("v-uni-view",{staticClass:"sub_btn btn",on:{click:function(a){arguments[0]=a=n.$handleEvent(a),n.scanLogin.apply(void 0,arguments)}}},[n._v(n._s(n.$t("授权登录")))]),t("v-uni-view",{staticClass:"out btn",on:{click:function(a){arguments[0]=a=n.$handleEvent(a),n.closePage.apply(void 0,arguments)}}},[n._v(n._s(n.$t("取消")))])],1)],1)},o=[]},"8d06":function(n,a,t){"use strict";t.r(a);var e=t("f43d"),i=t.n(e);for(var o in e)"default"!==o&&function(n){t.d(a,n,(function(){return e[n]}))}(o);a["default"]=i.a},aee7:function(n,a,t){"use strict";var e=t("0de7"),i=t.n(e);i.a},dabe:function(n,a,t){var e=t("24fb");a=e(!1),a.push([n.i,"uni-page-body[data-v-522a6d7a]{height:100%;background:#fff}.scan_login .head[data-v-522a6d7a]{display:flex;flex-direction:column;align-items:center;padding-top:%?96?%}.scan_login .head uni-image[data-v-522a6d7a]{width:%?178?%;height:%?178?%;border-radius:50%}.scan_login .head .big[data-v-522a6d7a]{margin:%?20?% 0 %?10?%;font-size:%?32?%;color:#282828}.scan_login .head .small[data-v-522a6d7a]{color:#9f9f9f;font-size:%?28?%}.scan_login .head .btn[data-v-522a6d7a]{display:flex;align-items:center;justify-content:center;width:%?594?%;height:%?86?%;margin:%?28?% auto 0;font-size:%?30?%;color:#fff;border-radius:%?43?%;background:linear-gradient(90deg,#3875ea,#1890fc)}.scan_login .head .btn.out[data-v-522a6d7a]{border:1px solid #3875ea;background:none;color:#3875ea}.scan_login .head .btn.sub_btn[data-v-522a6d7a]{margin-top:%?96?%}body.?%PAGE?%[data-v-522a6d7a]{background:#fff}",""]),n.exports=a},f43d:function(n,a,t){"use strict";(function(n){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=t("816a"),i=t("6de5"),o={name:"scan_login",data:function(){return{code:"",userInfo:{}}},onLoad:function(n){this.code=n.key,this.codeStauts(),this.getUserInfo()},methods:{codeStauts:function(){var n=this;(0,i.codeStauts)({code:this.code}).then((function(n){})).catch((function(a){n.openModel(a)}))},scanLogin:function(){var n=this;this.code?(0,i.kefuScanLogin)({code:this.code}).then((function(n){uni.showToast({title:n.msg,icon:"success"}),setTimeout((function(n){WeixinJSBridge.call("closeWindow")}),2e3)})).catch((function(a){n.openModel(a)})):this.openModel(this.$t("没有登录的code，请重新扫码"))},openModel:function(n){uni.showModal({title:this.$t("提示"),content:n,success:function(n){n.confirm?WeixinJSBridge.call("closeWindow"):n.cancel&&this.$t("用户点击取消")}})},closePage:function(){WeixinJSBridge.call("closeWindow")},getUserInfo:function(){var n=this;(0,e.getUserInfo)().then((function(a){n.userInfo=a.data}))}}};a.default=o}).call(this,t("5a52")["default"])}}]);