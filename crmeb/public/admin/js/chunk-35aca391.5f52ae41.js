(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-35aca391"],{"0a35":function(t,e,a){},"22d5":function(t,e,a){"use strict";var r=a("757b");a.n(r).a},"3ba4":function(t,e,a){"use strict";var r=a("0a35");a.n(r).a},"3f2a":function(t,e,a){"use strict";a.d(e,"f",(function(){return s})),a.d(e,"c",(function(){return n})),a.d(e,"d",(function(){return i})),a.d(e,"a",(function(){return o})),a.d(e,"b",(function(){return c})),a.d(e,"e",(function(){return l})),a.d(e,"g",(function(){return d}));var r=a("6b6c");function s(t){return Object(r.a)({url:"/export/user_list",method:"get",params:t})}function n(t){return Object(r.a)({url:"/export/order_list",method:"get",params:t})}function i(t){return Object(r.a)({url:"/export/product_list",method:"get",params:t})}function o(t){return Object(r.a)({url:"/export/bargain_list",method:"get",params:t})}function c(t){return Object(r.a)({url:"/export/combination_list",method:"get",params:t})}function l(t){return Object(r.a)({url:"/export/seckill_list",method:"get",params:t})}function d(t){return Object(r.a)({url:"/export/member_card/".concat(t),method:"get"})}},"5c3ac":function(t,e,a){"use strict";a.r(e);var r=a("f3f3"),s=(a("a9e3"),a("d3b7"),a("159b"),a("a584")),n=a("c964"),i=(a("96cf"),a("d9e2"),a("8ba4"),a("ac1f"),a("00b4"),a("25f0"),a("e9c4"),a("99af"),a("a15b"),a("2f62")),o=a("f8b7"),c=a("3f2a"),l={name:"table_from",data:function(){return{fromList:{title:"选择时间",custom:!0,fromTxt:[{text:"全部",val:""},{text:"今天",val:"today"},{text:"昨天",val:"yesterday"},{text:"最近7天",val:"lately7"},{text:"最近30天",val:"lately30"},{text:"本月",val:"month"},{text:"本年",val:"year"}]},currentTab:"",grid:{xl:8,lg:8,md:8,sm:24,xs:24},orderData:{status:"",data:"",real_name:"",field_key:"all",pay_type:"",type:""},modalTitleSs:"",statusType:"",time:"",value2:[],writeOffRules:{code:[{validator:function(t,e,a){if(!e)return a(new Error("请填写核销码"));Number.isInteger(e)&&/\b\d{12}\b/.test(e)?a():a(new Error("请填写12位数字"))},trigger:"blur",required:!0}]},writeOffFrom:{code:"",confirm:0},modals2:!1,timeVal:[],options:{shortcuts:[{text:"今天",value:function(){var t=new Date,e=new Date;return e.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate())),[e,t]}},{text:"昨天",value:function(){var t=new Date,e=new Date;return e.setTime(e.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()-1))),t.setTime(t.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate())-1)),[e,t]}},{text:"最近7天",value:function(){var t=new Date,e=new Date;return e.setTime(e.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()-6))),[e,t]}},{text:"最近30天",value:function(){var t=new Date,e=new Date;return e.setTime(e.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()-29))),[e,t]}},{text:"本月",value:function(){var t=new Date,e=new Date;return e.setTime(e.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),1))),[e,t]}},{text:"本年",value:function(){var t=new Date,e=new Date;return e.setTime(e.setTime(new Date((new Date).getFullYear(),0,1))),[e,t]}}]},payList:[{label:"全部",val:""},{label:"微信支付",val:"1"},{label:"支付宝支付",val:"4"},{label:"余额支付",val:"2"},{label:"线下支付",val:"3"}]}},computed:Object(r.a)(Object(r.a)({},Object(i.e)("order",["orderChartType","isDels","delIdList","orderType"])),{},{today:function(){var t=new Date,e=new Date;return[e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate(),t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()]}}),watch:{$route:function(){"/admin/order/list?status=1"===this.$route.fullPath&&this.getPath()}},created:function(){"/admin/order/list?status=1"===this.$route.fullPath&&this.getPath()},methods:Object(r.a)(Object(r.a)({},Object(i.d)("order",["getOrderStatus","getOrderType","getOrderTime","getOrderNum","getfieldKey"])),{},{getPath:function(){this.orderData.status=this.$route.query.status.toString(),this.getOrderStatus(this.orderData.status),this.$emit("getList",1)},changeModal:function(t){t||(this.writeOffFrom.code="")},exportList:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var a,r,s,n,i,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.orderData.type=0===t.orderType?"":t.orderType,a=[],r=[],s=[],n="",(i=JSON.parse(JSON.stringify(t.orderData))).page=1,i.limit=200,o=0;case 6:if(o<i.page+1)return e.next=9,t.getExcelData(i);e.next=23;break;case 9:c=e.sent,n=n||c.filename,r.length||(r=c.fileKey),a.length||(a=c.header),c.export.length?(s=s.concat(c.export),i.page++,e.next=20):e.next=18;break;case 18:return t.$exportExcel(a,r,n,s),e.abrupt("return");case 20:o++,e.next=6;break;case 23:case"end":return e.stop()}}),e)})))()},getExcelData:function(t){return new Promise((function(e,a){Object(c.c)(t).then((function(t){e(t.data)}))}))},onchangeTime:function(t){this.timeVal=t,this.orderData.data=this.timeVal[0]?this.timeVal.join("-"):"",this.$store.dispatch("order/getOrderTabs",{data:this.orderData.data}),this.getOrderTime(this.orderData.data),this.$emit("getList",1)},selectChange:function(t){this.$store.dispatch("order/getOrderTabs",{data:t}),this.orderData.data=t,this.getOrderTime(this.orderData.data),this.timeVal=[],this.$emit("getList")},selectChange2:function(t){this.getOrderStatus(t),this.$emit("getList",1)},userSearchs:function(t){this.getOrderType(t),this.$emit("getList",1)},timeChange:function(t){this.getOrderTime(t),this.$emit("getList")},orderSearch:function(t){this.getOrderNum(t),this.getfieldKey(this.orderData.field_key),this.$emit("getList",1)},onClickTab:function(){this.$emit("onChangeType",this.currentTab)},delAll:function(){var t,e=this;0===this.delIdList.length?this.$Message.error("请先选择删除的订单！"):this.isDels?(t={ids:this.delIdList},this.$modalSure({title:"删除订单",url:"/order/dels",method:"post",ids:t}).then((function(t){e.$Message.success(t.msg),e.$emit("getList")})).catch((function(t){e.$Message.error(t.msg)}))):this.$Modal.error({title:"错误！",content:"<p>您选择的的订单存在用户未删除的订单，无法删除用户未删除的订单！</p>"})},writeOff:function(){this.modals2=!0},search:function(t){var e=this;this.$refs[t].validate((function(t){t?(e.writeOffFrom.confirm=0,Object(o.J)(e.writeOffFrom).then(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:200===a.status?e.$Message.success(a.msg):e.$Message.error(a.msg);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$Message.error(t.msg)}))):e.$Message.error("请填写正确的核销码")}))},ok:function(t){var e=this;this.writeOffFrom.code?(this.writeOffFrom.confirm=1,Object(o.J)(this.writeOffFrom).then(function(){var a=Object(n.a)(regeneratorRuntime.mark((function a(r){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:200===r.status?(e.$Message.success(r.msg),e.modals2=!1,e.$refs[t].resetFields(),e.$emit("getList",1)):e.$Message.error(r.msg);case 1:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()).catch((function(t){e.$Message.error(t.msg)}))):this.$Message.warning("请先验证订单！")},del:function(t){this.modals2=!1,this.writeOffFrom.code="",this.$refs[t].resetFields()},handleSubmit:function(){this.$emit("on-submit",this.data)},Refresh:function(){this.$emit("getList")},handleReset:function(){this.$refs.form.resetFields(),this.$emit("on-reset")}})},d=(a("22d5"),a("2877")),u=(l=Object(d.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table_box"},[a("Form",{ref:"orderData",staticClass:"tabform",attrs:{model:t.orderData,"label-width":80,"label-position":"right"},nativeOn:{submit:function(t){t.preventDefault()}}},[a("Row",{attrs:{gutter:24,type:"flex",justify:"end"}},[a("Col",{staticClass:"ivu-text-left",attrs:{span:"24"}},[a("FormItem",{attrs:{label:"订单状态："}},[a("RadioGroup",{attrs:{type:"button"},on:{"on-change":function(e){return t.selectChange2(t.orderData.status)}},model:{value:t.orderData.status,callback:function(e){t.$set(t.orderData,"status",e)},expression:"orderData.status"}},[a("Radio",{attrs:{label:""}},[t._v("全部")]),a("Radio",{attrs:{label:"0"}},[t._v("未支付")]),a("Radio",{attrs:{label:"1"}},[t._v("未发货")]),a("Radio",{attrs:{label:"2"}},[t._v("待收货")]),a("Radio",{attrs:{label:"3"}},[t._v("待评价")]),a("Radio",{attrs:{label:"4"}},[t._v("交易完成")]),a("Radio",{attrs:{label:"5"}},[t._v("待核销")]),a("Radio",{attrs:{label:"6"}},[t._v("已核销")]),a("Radio",{attrs:{label:"-2"}},[t._v("已退款")]),a("Radio",{attrs:{label:"-4"}},[t._v("已删除")])],1)],1)],1),a("Col",{staticClass:"ivu-text-left",attrs:{span:"24"}},[a("FormItem",{attrs:{label:"支付方式："}},[a("RadioGroup",{attrs:{type:"button"},on:{"on-change":t.userSearchs},model:{value:t.orderData.pay_type,callback:function(e){t.$set(t.orderData,"pay_type",e)},expression:"orderData.pay_type"}},t._l(t.payList,(function(e){return a("Radio",{key:e.id,attrs:{label:e.val}},[t._v(t._s(e.label))])})),1)],1)],1),a("Col",{staticClass:"ivu-text-left",attrs:{span:"8"}},[a("FormItem",{attrs:{label:"创建时间："}},[a("DatePicker",{staticClass:"mr20",staticStyle:{width:"300px"},attrs:{editable:!1,value:t.timeVal,format:"yyyy/MM/dd HH:mm:ss",type:"datetimerange",placement:"bottom-start",placeholder:"请选择创建时间",options:t.options},on:{"on-change":t.onchangeTime}})],1)],1),a("Col",{attrs:{span:"16"}},[a("Col",{staticClass:"mr",attrs:{span:"12"}},[a("FormItem",{attrs:{label:"搜索：",prop:"real_name","label-for":"real_name"}},[a("Input",{attrs:{search:"","enter-button":"",placeholder:"请输入","element-id":"name"},on:{"on-search":function(e){return t.orderSearch(t.orderData.real_name)}},model:{value:t.orderData.real_name,callback:function(e){t.$set(t.orderData,"real_name",e)},expression:"orderData.real_name"}},[a("Select",{staticStyle:{width:"80px"},attrs:{slot:"prepend"},slot:"prepend",model:{value:t.orderData.field_key,callback:function(e){t.$set(t.orderData,"field_key",e)},expression:"orderData.field_key"}},[a("Option",{attrs:{value:"all"}},[t._v("全部")]),a("Option",{attrs:{value:"order_id"}},[t._v("订单号")]),a("Option",{attrs:{value:"uid"}},[t._v("UID")]),a("Option",{attrs:{value:"real_name"}},[t._v("用户姓名")]),a("Option",{attrs:{value:"user_phone"}},[t._v("用户电话")]),a("Option",{attrs:{value:"title"}},[t._v("商品名称(模糊)")])],1)],1)],1)],1)],1),a("Col",{attrs:{span:"24"}},[a("div",{staticClass:"ml20"},[a("Button",{directives:[{name:"auth",rawName:"v-auth",value:["order-dels"],expression:"['order-dels']"}],staticClass:"mr10",attrs:{type:"primary"},on:{click:t.delAll}},[t._v("批量删除订单")]),a("Button",{directives:[{name:"auth",rawName:"v-auth",value:["order-write"],expression:"['order-write']"}],staticClass:"mr10 greens",attrs:{type:"success",size:"default"},on:{click:t.writeOff}},[a("Icon",{attrs:{type:"md-list"}}),t._v("\n            订单核销\n          ")],1),a("Button",{directives:[{name:"auth",rawName:"v-auth",value:["export-storeOrder"],expression:"['export-storeOrder']"}],staticClass:"export",attrs:{icon:"ios-share-outline"},on:{click:t.exportList}},[t._v("导出")])],1)])],1)],1),a("Modal",{staticClass:"paymentFooter",attrs:{title:"订单核销",closable:!1,width:"400"},on:{"on-visible-change":t.changeModal},model:{value:t.modals2,callback:function(e){t.modals2=e},expression:"modals2"}},[a("Form",{ref:"writeOffFrom",staticClass:"tabform",attrs:{model:t.writeOffFrom,rules:t.writeOffRules,"label-position":"right"},nativeOn:{submit:function(t){t.preventDefault()}}},[a("FormItem",{attrs:{prop:"code","label-for":"code"}},[a("Input",{staticStyle:{width:"100%"},attrs:{type:"text",placeholder:"请输入12位核销码"},model:{value:t.writeOffFrom.code,callback:function(e){t.$set(t.writeOffFrom,"code",t._n(e))},expression:"writeOffFrom.code"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.ok("writeOffFrom")}}},[t._v("立即核销")]),a("Button",{on:{click:function(e){return t.del("writeOffFrom")}}},[t._v("取消")])],1)],1)],1)}),[],!1,null,"3461226c",null).exports,a("d0ff")),m=(a("6062"),a("3ca3"),a("ddb0"),a("c740"),a("a464")),f=a("31b4"),p=a("fc48"),h=a("61f8"),_=a("417c"),g=a("d616");f={name:"table_list",components:{expandRow:m.a,editFrom:f.a,detailsFrom:p.a,orderRemark:h.a,orderRecord:_.a,orderSend:g.a},data:function(){return{delfromData:{},modal:!1,orderList:[],orderCards:[],loading:!1,orderId:0,total_num:0,virtual_type:0,status:0,pay_type:"",columns:[{type:"expand",width:30,render:function(t,e){return t(m.a,{props:{row:e.row}})}},{type:"selection",width:40,align:"center"},{title:"订单号 | 类型",align:"center",slot:"order_id",width:200},{title:"用户昵称 | ID",slot:"nickname",align:"center",width:150},{title:"商品信息",slot:"info",minWidth:330},{title:"实际支付",key:"pay_price",align:"center",width:100},{title:"支付方式",key:"pay_type_name",width:80},{title:"支付时间",key:"_pay_time",align:"center",minWidth:75,maxWidth:160},{title:"订单状态",key:"statusName",slot:"statusName",align:"center",width:100},{title:"操作",slot:"action",fixed:"right",width:170,align:"center"}],page:{total:0,pageNum:1,pageSize:10},data:[],FromData:null,orderDatalist:null,selectedIds:new Set}},computed:Object(r.a)({},Object(i.e)("order",["orderPayType","orderStatus","orderTime","orderNum","fieldKey","orderType"])),mounted:function(){},created:function(){this.getList()},watch:{orderType:function(){this.page.pageNum=1,this.getList()}},methods:Object(r.a)(Object(r.a)({},Object(i.d)("order",["getIsDel","getisDelIdListl"])),{},{changeMenu:function(t,e){var a=this;switch(this.orderId=t.id,e){case"1":this.delfromData={title:"修改立即支付",url:"/order/pay_offline/".concat(t.id),method:"post",ids:""},this.$modalSure(this.delfromData).then((function(t){a.$Message.success(t.msg),a.$emit("changeGetTabs"),a.getList()})).catch((function(t){a.$Message.error(t.msg)}));break;case"2":this.getData(t.id);break;case"3":this.$refs.record.modals=!0,this.$refs.record.getList(t.id);break;case"4":this.$refs.remarks.modals=!0,this.$refs.remarks.formValidate.remark=t.remark;break;case"5":this.getRefundData(t.id);break;case"6":this.getRefundIntegral(t.id);break;case"7":this.getNoRefundData(t.id);break;case"8":this.delfromData={title:"修改确认收货",url:"/order/take/".concat(t.id),method:"put",ids:""},this.$modalSure(this.delfromData).then((function(t){a.$Message.success(t.msg),a.getList()})).catch((function(t){a.$Message.error(t.msg)}));break;case"10":this.delfromData={title:"立即打印订单",info:"您确认打印此订单吗?",url:"/order/print/".concat(t.id),method:"get",ids:""},this.$modalSure(this.delfromData).then((function(t){a.$Message.success(t.msg),a.$emit("changeGetTabs"),a.getList()})).catch((function(t){a.$Message.error(t.msg)}));break;case"11":this.delfromData={title:"立即打印电子面单",info:"您确认打印此电子面单吗?",url:"/order/order_dump/".concat(t.id),method:"get",ids:""},this.$modalSure(this.delfromData).then((function(t){a.$Message.success(t.msg),a.getList()})).catch((function(t){a.$Message.error(t.msg)}));break;default:this.delfromData={title:"删除订单",url:"/order/del/".concat(t.id),method:"DELETE",ids:""},this.delOrder(t,this.delfromData)}},submitModel:function(){this.getList()},pageChange:function(t){this.page.pageNum=t,this.getList()},limitChange:function(t){this.page.pageSize=t,this.getList()},getList:function(t){var e=this;this.page.pageNum=1===t?1:this.page.pageNum,this.loading=!0,Object(o.A)({page:this.page.pageNum,limit:this.page.pageSize,status:this.orderStatus,pay_type:this.orderPayType,data:this.orderTime,real_name:this.orderNum,field_key:this.fieldKey,type:0===this.orderType?"":this.orderType}).then(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(a){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=a.data,e.orderList=r.data,e.orderCards=r.stat,e.page.total=r.count,e.$nextTick((function(){e.setChecked()})),e.$emit("on-changeCards",r.stat),e.loading=!1;case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.loading=!1,e.$Message.error(t.msg)}))},handleSelectAll:function(t){var e=this;0===t.length?this.$refs.table.data.forEach((function(t){e.selectedIds.has(t.id)&&e.selectedIds.delete(t.id)})):t.forEach((function(t){e.selectedIds.add(t.id)})),this.isDel(t),this.$nextTick((function(){e.setChecked()}))},handleSelectRow:function(t,e){var a=this;this.isDel(t),this.selectedIds.add(e.id),this.$nextTick((function(){a.setChecked()}))},handleCancelRow:function(t,e){var a=this;this.isDel(t),this.selectedIds.delete(e.id),this.$nextTick((function(){a.setChecked()}))},setChecked:function(){var t,e=Object(u.a)(this.selectedIds),a=(this.getisDelIdListl(e),this.$refs.table.objData);for(t in a)this.selectedIds.has(a[t].id)&&(a[t]._isChecked=!0)},isDel:function(t){-1==t.findIndex((function(t){return 0===t.is_del}))?this.getIsDel(1):this.getIsDel(0)},edit:function(t){this.getOrderData(t.id)},delOrder:function(t,e){var a=this;1===t.is_del?this.$modalSure(e).then((function(t){a.$Message.success(t.msg),a.getList()})).catch((function(t){a.$Message.error(t.msg)})):this.$Modal.error({title:"错误！",content:"<p>您选择的的订单存在用户未删除的订单，无法删除用户未删除的订单！</p>"})},splitOrderDetail:function(t){this.$router.push({path:"split_list",query:{id:t.id}})},getOrderData:function(t){var e=this;Object(o.l)(t).then(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!1===a.data.status)return t.abrupt("return",e.$authLapse(a.data));t.next=2;break;case 2:e.$authLapse(a.data),e.FromData=a.data,e.$refs.edits.modals=!0;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$Message.error(t.msg)}))},getData:function(t){var e=this;Object(o.e)(t).then(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$refs.details.modals=!0,e.orderDatalist=a.data,e.orderDatalist.orderInfo.refund_reason_wap_img)try{e.orderDatalist.orderInfo.refund_reason_wap_img=JSON.parse(e.orderDatalist.orderInfo.refund_reason_wap_img)}catch(t){e.orderDatalist.orderInfo.refund_reason_wap_img=[]}case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$Message.error(t.msg)}))},submitFail:function(){this.getList(),this.$emit("changeGetTabs")},getRefundData:function(t){var e=this;this.$modalForm(Object(o.o)(t)).then((function(){e.getList(),e.$emit("changeGetTabs")}))},getRefundIntegral:function(t){var e=this;Object(o.N)(t).then(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.FromData=a.data,e.$refs.edits.modals=!0;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$Message.error(t.msg)}))},getNoRefundData:function(t){var e=this;this.$modalForm(Object(o.p)(t)).then((function(){e.getList(),e.$emit("changeGetTabs")}))},sendOrder:function(t){var e=this;this.$refs.send.total_num=t.total_num,this.$refs.send.modals=!0,this.orderId=t.id,this.status=t._status,this.pay_type=t.pay_type,this.virtual_type=t.virtual_type,this.$refs.send.getList(),this.$refs.send.getDeliveryList(),this.$nextTick((function(a){e.$refs.send.getCartInfo(t._status,t.id)}))},delivery:function(t){var e=this;Object(o.g)(t.id).then(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.FromData=a.data,e.$refs.edits.modals=!0;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$Message.error(t.msg)}))},change:function(t){},exportData:function(){this.$refs.table.exportCsv({filename:"商品列表"})},bindWrite:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"确定要核销该订单吗？",cancelText:"取消",closable:!0,maskClosable:!0,onOk:function(){Object(o.T)(t.order_id).then((function(t){e.$Message.success(t.msg),e.getList()})).catch((function(t){e.$Message.error(t.msg)}))}})}})},a("883c"),p={name:"orderlistDetails",components:{tableForm:l,tableList:Object(d.a)(f,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Table",{ref:"table",staticClass:"orderData mt25",attrs:{columns:t.columns,data:t.orderList,loading:t.loading,"highlight-row":"","no-data-text":"暂无数据","no-filtered-data-text":"暂无筛选结果"},on:{"on-select":t.handleSelectRow,"on-select-cancel":t.handleCancelRow,"on-select-all":t.handleSelectAll,"on-select-all-cancel":t.handleSelectAll},scopedSlots:t._u([{key:"order_id",fn:function(e){var r=e.row;return e.index,[a("div",[t._v(t._s(r.order_id))]),a("div",{staticClass:"pink_name"},[t._v(t._s(r.pink_name))]),a("span",{directives:[{name:"show",rawName:"v-show",value:1===r.is_del,expression:"row.is_del === 1"}],staticStyle:{color:"#ed4014",display:"block"}},[t._v("用户已删除")])]}},{key:"nickname",fn:function(e){var r=e.row;return e.index,[a("span",{staticClass:"nickname"},[t._v(t._s(r.nickname))]),t._v(" |\n      "),a("span",{staticClass:"uid"},[t._v(t._s(r.uid))])]}},{key:"info",fn:function(e){var r=e.row;return e.index,t._l(r._info,(function(e,r){return a("div",{key:r,staticClass:"tabBox"},[a("div",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"tabBox_img"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:(e.cart_info.productInfo.attrInfo||e.cart_info.productInfo).image,expression:"\n              val.cart_info.productInfo.attrInfo\n                ? val.cart_info.productInfo.attrInfo.image\n                : val.cart_info.productInfo.image\n            "}]})]),a("span",{staticClass:"tabBox_tit"},[t._v(t._s(e.cart_info.productInfo.store_name+" | ")+t._s(e.cart_info.productInfo.attrInfo?e.cart_info.productInfo.attrInfo.suk:""))]),a("span",{staticClass:"tabBox_pice"},[t._v(t._s("￥"+e.cart_info.truePrice+" x "+e.cart_info.cart_num))])])}))}},{key:"statusName",fn:function(e){var r=e.row;return e.index,[a("div",{staticClass:"pt5",domProps:{innerHTML:t._s(r.status_name.status_name)}}),!r.is_all_refund&&r.refund.length?a("div",{staticClass:"trip"},[t._v("部分退款中")]):t._e(),0==r.refund_status&&r.is_all_refund&&r.refund.length&&6!=r.refund_type?a("div",{staticClass:"trip"},[t._v("\n        退款中\n      ")]):t._e(),a("div",{staticClass:"img"},t._l(r.status_name.pics||[],(function(e,s){return r.status_name.pics?a("div",{directives:[{name:"viewer",rawName:"v-viewer"}],key:s,staticClass:"pictrue"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e,expression:"item"}],attrs:{src:e}})]):t._e()})),0)]}},{key:"action",fn:function(e){var r=e.row;return e.index,[1===r._status?a("a",{on:{click:function(e){return t.edit(r)}}},[t._v("编辑")]):t._e(),4!==r.status&&2!==r._status&&8!==r._status||1!==r.shipping_type||null!==r.pinkStatus&&2!==r.pinkStatus?t._e():a("a",{on:{click:function(e){return t.sendOrder(r)}}},[t._v("发送货")]),4!==r._status||r.split.length?t._e():a("a",{on:{click:function(e){return t.delivery(r)}}},[t._v("配送信息")]),2==r.shipping_type&&0==r.status&&1==r.paid&&0===r.refund_status?a("a",{on:{click:function(e){return t.bindWrite(r)}}},[t._v("立即核销")]):t._e(),8!==r._status&&0!==r.status&&4!==r.status||!r.split.length?t._e():a("Divider",{attrs:{type:"vertical"}}),r.split.length?a("a",{on:{click:function(e){return t.splitOrderDetail(r)}}},[t._v("查看子订单")]):t._e(),2===r._status&&1===r.shipping_type&&2===r.pinkStatus||r.split.length?a("Divider",{attrs:{type:"vertical"}}):t._e(),4!==r.refund_type&&5!==r.refund_type&&(1===r._status||3===r._status||2===r._status&&!r.pinkStatus||4===r._status||2==r.shipping_type&&0==r.status&&1==r.paid&&0===r.refund_status)?a("Divider",{attrs:{type:"vertical"}}):t._e(),[a("Dropdown",{attrs:{transfer:!0},on:{"on-click":function(e){return t.changeMenu(r,e)}}},[a("a",{attrs:{href:"javascript:void(0)"}},[t._v("更多\n            "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{directives:[{name:"show",rawName:"v-show",value:1===r._status&&0===r.paid&&"offline"===r.pay_type,expression:"row._status === 1 && row.paid === 0 && row.pay_type === 'offline'"}],ref:"ones",attrs:{name:"1"}},[t._v("确认付款")]),a("DropdownItem",{attrs:{name:"2"}},[t._v("订单详情")]),a("DropdownItem",{attrs:{name:"3"}},[t._v("订单记录")]),a("DropdownItem",{directives:[{name:"show",rawName:"v-show",value:3<=r._status&&r.express_dump,expression:"row._status >= 3 && row.express_dump"}],attrs:{name:"11"}},[t._v("电子面单打印")]),a("DropdownItem",{directives:[{name:"show",rawName:"v-show",value:2<=r._status,expression:"row._status >= 2"}],attrs:{name:"10"}},[t._v("小票打印")]),a("DropdownItem",{directives:[{name:"show",rawName:"v-show",value:1!==r._status||3===r._status&&0<r.use_integral&&r.use_integral>=r.back_integral,expression:"\n                row._status !== 1 ||\n                (row._status === 3 && row.use_integral > 0 && row.use_integral >= row.back_integral)\n              "}],attrs:{name:"4"}},[t._v("订单备注")]),a("DropdownItem",{directives:[{name:"show",rawName:"v-show",value:4===r._status,expression:"row._status === 4"}],attrs:{name:"8"}},[t._v("已收货")]),a("DropdownItem",{attrs:{name:"9"}},[t._v("删除订单")])],1)],1)]]}}])}),a("div",{staticClass:"acea-row row-right page"},[a("Page",{attrs:{total:t.page.total,current:t.page.pageNum,"show-elevator":"","show-total":"","page-size":t.page.pageSize},on:{"on-change":t.pageChange,"on-page-size-change":t.limitChange}})],1),a("edit-from",{ref:"edits",attrs:{FromData:t.FromData},on:{submitFail:t.submitFail}}),a("details-from",{ref:"details",attrs:{orderDatalist:t.orderDatalist,orderId:t.orderId}}),a("order-remark",{ref:"remarks",attrs:{orderId:t.orderId},on:{submitFail:t.submitFail}}),a("order-record",{ref:"record"}),a("order-send",{ref:"send",attrs:{orderId:t.orderId,status:t.status,pay_type:t.pay_type,virtual_type:t.virtual_type},on:{submitFail:t.submitFail,clearId:function(){t.orderId=0}}})],1)}),[],!1,null,"f2df3b70",null).exports,cardsData:s.a},data:function(){return{currentTab:"",cardLists:[]}},methods:{changeGetTabs:function(){this.$parent.getTabs()},getData:function(t){this.$refs.table.getList(t)},getCards:function(t){this.cardLists=t},handleResize:function(){this.$refs.ellipsis.forEach((function(t){return t.init()}))}},mounted:function(){}},a("3ba4"),h={name:"list",components:{productlistDetails:Object(d.a)(p,(function(){var t=this,e=t.$createElement;e=t._self._c||e;return e("div",[e("table-form",{on:{getList:t.getData}}),e("table-list",{ref:"table",on:{"on-changeCards":t.getCards,changeGetTabs:t.changeGetTabs}})],1)}),[],!1,null,"2169d6ee",null).exports},data:function(){var t=this;return{tabs:[{type:"",label:function(e){return e("div",[e("span","全部订单"),e("Badge",{props:{count:Number(t.tablists.all),"overflow-count":999999}})])}},{type:"1",label:function(e){return e("div",[e("span","普通订单"),e("Badge",{props:{count:Number(t.tablists.general),"overflow-count":999999}})])}},{type:"2",label:function(e){return e("div",[e("span","拼团订单"),e("Badge",{props:{count:Number(t.tablists.pink),"overflow-count":999999}})])}},{type:"3",label:function(e){return e("div",[e("span","秒杀订单"),e("Badge",{props:{count:Number(t.tablists.seckill),"overflow-count":999999}})])}},{type:"4",label:function(e){return e("div",[e("span","砍价订单"),e("Badge",{props:{count:Number(t.tablists.bargain),"overflow-count":999999}})])}},{type:"5",label:function(e){return e("div",[e("span","预售订单"),e("Badge",{props:{count:Number(t.tablists.advance),"overflow-count":999999}})])}}],spinShow:!1,currentTab:"",data:[],tablists:null}},created:function(){this.getOrderType(""),this.getOrderStatus(""),this.getOrderTime(""),this.getOrderNum(""),this.getfieldKey(""),this.onChangeTabs(""),this.getisDelIdListl(""),this.getIsDel(1)},beforeDestroy:function(){this.getOrderType(""),this.getOrderStatus(""),this.getOrderTime(""),this.getOrderNum(""),this.getfieldKey(""),this.onChangeTabs(""),this.getisDelIdListl(""),this.getIsDel(1)},mounted:function(){this.getTabs()},methods:Object(r.a)(Object(r.a)({},Object(i.d)("order",["onChangeTabs","getOrderStatus","getOrderTime","getOrderNum","getfieldKey","getOrderType","getisDelIdListl","getIsDel"])),{},{getTabs:function(){var t=this;this.spinShow=!0,this.$store.dispatch("order/getOrderTabs",{data:""}).then((function(e){t.tablists=e.data,t.spinShow=!1})).catch((function(e){t.spinShow=!1,t.$Message.error(e.msg)}))},onClickTab:function(){this.onChangeTabs(Number(this.currentTab)),this.$store.dispatch("order/getOrderTabs",{type:this.currentTab})}})},a("f0c5"),_=Object(d.a)(h,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",{staticClass:"mt10",attrs:{bordered:!1,"dis-hover":""}},[t.tablists?a("Tabs",{staticClass:"mb20",on:{"on-click":t.onClickTab},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},t._l(t.tabs,(function(t,e){return a("TabPane",{key:e,attrs:{label:t.label,name:t.type}})})),1):t._e(),(t.currentTab,a("productlist-details",{ref:"productlist"})),t.spinShow?a("Spin",{attrs:{size:"large",fix:""}}):t._e()],1)],1)}),[],!1,null,"2e65ce8e",null);e.default=_.exports},"6c7c":function(t,e,a){"use strict";var r=a("9010");a.n(r).a},7443:function(t,e,a){"use strict";var r=a("b627");a.n(r).a},"757b":function(t,e,a){},"77ee":function(t,e,a){},"883c":function(t,e,a){"use strict";var r=a("a86d");a.n(r).a},"8ba4":function(t,e,a){a("23e7")({target:"Number",stat:!0},{isInteger:a("eac5")})},9010:function(t,e,a){},a15b:function(t,e,a){"use strict";var r=a("23e7"),s=a("e330"),n=a("44ad"),i=a("fc6a"),o=(a=a("a640"),s([].join));s=n!=Object,n=a("join",",");r({target:"Array",proto:!0,forced:s||!n},{join:function(t){return o(i(this),void 0===t?",":t)}})},a464:function(t,e,a){"use strict";var r={name:"table-expand",props:{row:Object}};a("6c7c"),a=a("2877"),a=Object(a.a)(r,(function(){var t=this,e=t.$createElement;e=t._self._c||e;return e("div",{staticClass:"expand"},[e("Row",{staticClass:"expand-row"},[e("Col",{attrs:{span:"6"}},[e("span",{staticClass:"expand-key"},[t._v("商品总价：")]),e("span",{staticClass:"expand-value",domProps:{textContent:t._s(t.row.total_price)}})]),e("Col",{attrs:{span:"6"}},[e("span",{staticClass:"expand-key"},[t._v("下单时间：")]),e("span",{staticClass:"expand-value",domProps:{textContent:t._s(t.row.add_time)}})]),e("Col",{attrs:{span:"6"}},[e("span",{staticClass:"expand-key"},[t._v("推广人：")]),e("span",{staticClass:"expand-value",domProps:{textContent:t._s(t.row.spread_nickname||"无")}})]),e("Col",{attrs:{span:"6"}},[e("span",{staticClass:"expand-key"},[t._v("事业部：")]),e("span",{staticClass:"expand-value",domProps:{textContent:t._s(t.row.division_name||"无")}})])],1),e("Row",[e("Col",{attrs:{span:"6"}},[e("span",{staticClass:"expand-key"},[t._v("用户备注：")]),e("span",{staticClass:"expand-value",domProps:{textContent:t._s(t.row.mark||"无")}})]),e("Col",{attrs:{span:"6"}},[e("span",{staticClass:"expand-key"},[t._v("商家备注：")]),e("span",{staticClass:"expand-value",domProps:{textContent:t._s(t.row.remark||"无")}})]),e("Col",{attrs:{span:"6"}},[e("span",{staticClass:"expand-key"},[t._v("核销码：")]),e("span",{staticClass:"expand-value",domProps:{textContent:t._s(t.row.verify_code||"无")}})])],1)],1)}),[],!1,null,"1e38a7f1",null);e.a=a.exports},a4c3:function(t,e,a){},a584:function(t,e,a){"use strict";var r={name:"cards",data:function(){return{}},props:{cardLists:Array},methods:{},created:function(){}};a("7443"),a=a("2877"),a=Object(a.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Row",{staticClass:"ivu-mt",attrs:{type:"flex",align:"middle",gutter:10}},t._l(t.cardLists,(function(e,r){return a("Col",{key:r,staticClass:"ivu-mb",attrs:{xl:e.col,lg:6,md:12,sm:24,xs:24}},[a("Card",{staticClass:"card_cent",attrs:{shadow:"",padding:0}},[a("div",{staticClass:"card_box"},[a("div",{staticClass:"card_box_cir",class:{one:r%5==0,two:r%5==1,three:r%5==2,four:r%5==3,five:r%5==4}},[a("div",{staticClass:"card_box_cir1",class:{one1:r%5==0,two1:r%5==1,three1:r%5==2,four1:r%5==3,five1:r%5==4}},[a("Icon",{attrs:{type:e.className}})],1)]),a("div",{staticClass:"card_box_txt"},[a("span",{staticClass:"sp1",domProps:{textContent:t._s(e.count||0)}}),a("span",{staticClass:"sp2",domProps:{textContent:t._s(e.name)}})])])])],1)})),1)],1)}),[],!1,null,"e3e38522",null);e.a=a.exports},a86d:function(t,e,a){},b627:function(t,e,a){},ca0f:function(t,e,a){"use strict";var r=a("77ee");a.n(r).a},d616:function(t,e,a){"use strict";var r=a("c964"),s=(a("96cf"),a("a9e3"),a("d3b7"),a("159b"),a("a434"),a("b64b"),a("ac1f"),a("00b4"),a("7db0"),a("f8b7")),n={name:"orderSend",props:{orderId:Number,status:Number,pay_type:String,virtual_type:Number},watch:{orderId:function(t){3==this.virtual_type&&(this.formItem.type="3")}},data:function(){var t=this;return{orderStatus:0,total_num:0,splitSwitch:!0,formItem:{type:"1",express_record_type:"1",delivery_name:"",delivery_id:"",express_temp_id:"",to_name:"",to_tel:"",to_addr:"",sh_delivery:"",fictitious_content:""},modals:!1,express:[],expressTemp:[],deliveryList:[],temp:{},export_open:!0,manyFormValidate:[],header:[{type:"selection",width:60,align:"center"},{title:"商品信息",slot:"image",width:200,align:"center"},{title:"规格",slot:"value",align:"center",minWidth:120},{title:"价格",slot:"price",align:"center",minWidth:120},{title:"总数",key:"cart_num",align:"center",minWidth:120},{title:"待发数量",key:"surplus_num",align:"center",width:180,render:function(e,a){return e("div",[e("InputNumber",{props:{min:1,max:a.row.surplus_num,value:a.row.num||a.row.surplus_num},on:{"on-change":function(e){a.row.num=e||1,t.manyFormValidate[a.index]=a.row,t.selectData.forEach((function(e,r){e.cart_id===a.row.cart_id&&t.selectData.splice(r,1,a.row)}))}}})])}}],selectData:[]}},methods:{selectOne:function(t){this.selectData=t},changeModal:function(t){t||this.cancel()},changeSplitStatus:function(t){var e=this;t&&Object(s.O)(this.orderId).then((function(t){e.manyFormValidate=[],Object.keys(t.data).forEach((function(a){e.manyFormValidate.push(t.data[a])}))}))},changeRadio:function(t){switch(this.$refs.formItem.resetFields(),t){case"1":this.formItem.delivery_name="",this.formItem.delivery_id="",this.formItem.express_temp_id="",this.formItem.express_record_type="1",this.expressTemp=[],this.getList(1);break;case"2":this.formItem.sh_delivery="";break;case"3":this.formItem.fictitious_content=""}},changeExpress:function(t){switch(t){case"2":this.formItem.delivery_name="",this.formItem.express_temp_id="",this.expressTemp=[],this.getList(2);break;case"1":this.formItem.delivery_name="",this.formItem.delivery_id="",this.getList(1)}},reset:function(){this.formItem={type:"1",express_record_type:"1",delivery_name:"",delivery_id:"",express_temp_id:"",expressTemp:[],to_name:"",to_tel:"",to_addr:"",sh_delivery:"",fictitious_content:""}},getList:function(t){var e=this;t=2===t?1:"";Object(s.i)(t).then(function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.express=a.data,e.getSheetInfo();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.loading=!1,e.$Message.error(t.msg)}))},putSend:function(t){var e=this,a={id:this.orderId,datas:this.formItem};if("1"===this.formItem.type&&"2"===this.formItem.express_record_type){if(""===this.formItem.delivery_name)return this.$Message.error("快递公司不能为空");if(""===this.formItem.express_temp_id)return this.$Message.error("电子面单不能为空");if(""===this.formItem.to_name)return this.$Message.error("寄件人姓名不能为空");if(""===this.formItem.to_tel)return this.$Message.error("寄件人电话不能为空");if(!/^1(3|4|5|7|8|9|6)\d{9}$/i.test(this.formItem.to_tel))return this.$Message.error("请输入正确的手机号码");if(""===this.formItem.to_addr)return this.$Message.error("寄件人地址不能为空")}if("1"===this.formItem.type&&"1"===this.formItem.express_record_type){if(""===this.formItem.delivery_name)return this.$Message.error("快递公司不能为空");if(""===this.formItem.delivery_id)return this.$Message.error("快递单号不能为空")}if("2"===this.formItem.type&&""===this.formItem.sh_delivery)return this.$Message.error("送货人不能为空");this.splitSwitch?(a.datas.cart_ids=[],this.selectData.forEach((function(t){a.datas.cart_ids.push({cart_id:t.cart_id,cart_num:t.num||t.surplus_num})})),Object(s.P)(a).then((function(t){e.modals=!1,e.$Message.success(t.msg),e.$emit("submitFail"),e.reset(),e.splitSwitch=!1})).catch((function(t){e.$Message.error(t.msg)}))):Object(s.G)(a).then(function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.modals=!1,e.$Message.success(a.msg),e.splitSwitch=!1,e.$emit("submitFail"),e.reset();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$Message.error(t.msg)}))},cancel:function(t){this.modals=!1,this.orderStatus=0,this.splitSwitch=!1,this.selectData=[],this.formItem.type="1",this.$emit("clearId"),this.reset()},expressChange:function(t){var e=this,a=this.express.find((function(e){return e.value===t}));void 0!==a&&(this.formItem.delivery_code=a.code,"2"===this.formItem.express_record_type&&(this.expressTemp=[],this.formItem.express_temp_id="",Object(s.v)({com:this.formItem.delivery_code}).then((function(t){e.expressTemp=t.data,t.data.length||e.$Message.error("请配置你所选快递公司的电子面单")})).catch((function(t){e.$Message.error(t.msg)}))))},getCartInfo:function(t,e){var a=this;this.$set(this,"orderStatus",t),this.$set(this,"splitSwitch",8===t||11===t),Object(s.O)(this.orderId).then((function(t){a.manyFormValidate=[],Object.keys(t.data).forEach((function(e){a.manyFormValidate.push(t.data[e])}))}))},getDeliveryList:function(){var t=this;Object(s.t)().then((function(e){t.deliveryList=e.data.list})).catch((function(e){t.$Message.error(e.msg)}))},getSheetInfo:function(){var t=this;Object(s.E)().then((function(e){var a,r=e.data;for(a in r)r.hasOwnProperty(a)&&(t.formItem[a]=r[a]);t.export_open=void 0===r.export_open||r.export_open,t.export_open||(t.formItem.express_record_type="1"),t.formItem.to_addr=r.to_add})).catch((function(e){t.$Message.error(e.msg)}))},shDeliveryChange:function(t){var e;t&&(e=this.deliveryList.find((function(e){return e.id===t})),this.formItem.sh_delivery_name=e.wx_name,this.formItem.sh_delivery_id=e.phone,this.formItem.sh_delivery_uid=e.uid)},expressTempChange:function(t){this.temp=this.expressTemp.find((function(e){return t===e.temp_id})),void 0===this.temp&&(this.temp={})},preview:function(){this.$refs.viewer.$viewer.show()}}};a("ca0f"),a=a("2877"),a=Object(a.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{staticClass:"order_box",attrs:{scrollable:"",title:"订单发送货",closable:!1,width:"1000"},on:{"on-visible-change":t.changeModal},model:{value:t.modals,callback:function(e){t.modals=e},expression:"modals"}},[t.modals?a("Form",{ref:"formItem",attrs:{model:t.formItem,"label-width":100},nativeOn:{submit:function(t){t.preventDefault()}}},[a("FormItem",{attrs:{label:"选择类型："}},[a("RadioGroup",{on:{"on-change":t.changeRadio},model:{value:t.formItem.type,callback:function(e){t.$set(t.formItem,"type",e)},expression:"formItem.type"}},[3!==t.virtual_type?a("Radio",{attrs:{label:"1"}},[t._v("发货")]):t._e(),3!==t.virtual_type?a("Radio",{attrs:{label:"2"}},[t._v("送货")]):t._e(),a("Radio",{attrs:{label:"3"}},[t._v("无需配送")])],1)],1),1==t.formItem.type?a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.export_open,expression:"export_open"}],attrs:{label:"发货类型："}},[a("RadioGroup",{on:{"on-change":t.changeExpress},model:{value:t.formItem.express_record_type,callback:function(e){t.$set(t.formItem,"express_record_type",e)},expression:"formItem.express_record_type"}},[a("Radio",{attrs:{label:"1"}},[t._v("手动填写")]),a("Radio",{attrs:{label:"2"}},[t._v("电子面单打印")])],1)],1):t._e(),a("div",[1==t.formItem.type?a("FormItem",{attrs:{label:"快递公司："}},[a("Select",{staticStyle:{width:"80%"},attrs:{filterable:"",placeholder:"请选择快递公司"},on:{"on-change":t.expressChange},model:{value:t.formItem.delivery_name,callback:function(e){t.$set(t.formItem,"delivery_name",e)},expression:"formItem.delivery_name"}},t._l(t.express,(function(e,r){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.value))])})),1)],1):t._e(),"1"===t.formItem.express_record_type&&1==t.formItem.type?a("FormItem",{attrs:{label:"快递单号："}},[a("Input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入快递单号"},model:{value:t.formItem.delivery_id,callback:function(e){t.$set(t.formItem,"delivery_id",e)},expression:"formItem.delivery_id"}}),"顺丰速运"==t.formItem.delivery_name?a("div",{staticClass:"trips"},[a("p",[t._v("顺丰请输入单号 :收件人或寄件人手机号后四位，")]),a("p",[t._v("例如：SF000000000000:3941")])]):t._e()],1):t._e(),"2"===t.formItem.express_record_type&&1==t.formItem.type?[a("FormItem",{staticClass:"express_temp_id",attrs:{label:"电子面单："}},[a("Select",{staticStyle:{width:"80%"},attrs:{placeholder:"请选择电子面单"},on:{"on-change":t.expressTempChange},model:{value:t.formItem.express_temp_id,callback:function(e){t.$set(t.formItem,"express_temp_id",e)},expression:"formItem.express_temp_id"}},t._l(t.expressTemp,(function(e,r){return a("Option",{key:r,attrs:{value:e.temp_id}},[t._v(t._s(e.title))])})),1),t.formItem.express_temp_id?a("Button",{attrs:{type:"text"},on:{click:t.preview}},[t._v("预览")]):t._e()],1),a("FormItem",{attrs:{label:"寄件人姓名："}},[a("Input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入寄件人姓名"},model:{value:t.formItem.to_name,callback:function(e){t.$set(t.formItem,"to_name",e)},expression:"formItem.to_name"}})],1),a("FormItem",{attrs:{label:"寄件人电话："}},[a("Input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入寄件人电话"},model:{value:t.formItem.to_tel,callback:function(e){t.$set(t.formItem,"to_tel",e)},expression:"formItem.to_tel"}})],1),a("FormItem",{attrs:{label:"寄件人地址："}},[a("Input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入寄件人地址"},model:{value:t.formItem.to_addr,callback:function(e){t.$set(t.formItem,"to_addr",e)},expression:"formItem.to_addr"}})],1)]:t._e()],2),a("div",{directives:[{name:"show",rawName:"v-show",value:"2"===t.formItem.type,expression:"formItem.type === '2'"}]},[a("FormItem",{attrs:{label:"送货人："}},[a("Select",{staticStyle:{width:"80%"},attrs:{placeholder:"请选择送货人"},on:{"on-change":t.shDeliveryChange},model:{value:t.formItem.sh_delivery,callback:function(e){t.$set(t.formItem,"sh_delivery",e)},expression:"formItem.sh_delivery"}},t._l(t.deliveryList,(function(e,r){return a("Option",{key:r,attrs:{value:e.id}},[t._v(t._s(e.wx_name)+"（"+t._s(e.phone)+"）")])})),1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"3"===t.formItem.type,expression:"formItem.type === '3'"}]},[a("FormItem",{attrs:{label:"备注："}},[a("Input",{staticStyle:{width:"80%"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"备注"},model:{value:t.formItem.fictitious_content,callback:function(e){t.$set(t.formItem,"fictitious_content",e)},expression:"formItem.fictitious_content"}})],1)],1),1<t.total_num?a("div",[a("FormItem",{attrs:{label:"分单发货："}},[a("i-switch",{attrs:{size:"large",disabled:8===t.orderStatus||11===t.orderStatus},on:{"on-change":t.changeSplitStatus},model:{value:t.splitSwitch,callback:function(e){t.splitSwitch=e},expression:"splitSwitch"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])]),a("div",{staticClass:"trips"},[a("p",[t._v("可选择表格中的商品单独发货，发货后会生成新的订单且不能撤回，请谨慎操作！")])]),t.splitSwitch&&t.manyFormValidate.length?a("i-table",{attrs:{data:t.manyFormValidate,columns:t.header},on:{"on-selection-change":t.selectOne},scopedSlots:t._u([{key:"image",fn:function(e){var r=e.row;return e.index,[a("div",{staticClass:"product-data"},[a("img",{staticClass:"image",attrs:{src:r.cart_info.productInfo.image}}),a("div",{staticClass:"line2"},[t._v("\n                "+t._s(r.cart_info.productInfo.store_name)+"\n              ")])])]}},{key:"value",fn:function(e){var r=e.row;return e.index,[a("div",{staticClass:"product-data"},[a("div",[t._v(t._s(r.cart_info.productInfo.attrInfo.suk))])])]}},{key:"price",fn:function(e){var r=e.row;return e.index,[a("div",{staticClass:"product-data"},[a("div",[t._v(t._s(r.cart_info.truePrice))])])]}}],null,!1,1113423484)}):t._e()],1)],1):t._e()],1):t._e(),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:t.cancel}},[t._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:t.putSend}},[t._v("提交")])],1),a("div",{directives:[{name:"viewer",rawName:"v-viewer"},{name:"show",rawName:"v-show",value:t.temp,expression:"temp"}],ref:"viewer"},[a("img",{staticStyle:{display:"none"},attrs:{src:t.temp.pic}})])],1)}),[],!1,null,"3782e2b0",null);e.a=a.exports},f0c5:function(t,e,a){"use strict";var r=a("a4c3");a.n(r).a}}]);